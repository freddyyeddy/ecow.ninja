
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Generate Maximo Multi Where Query</title>


<script type="text/javascript">
var maxlnk = "https://americaswmprd.bpweb.bp.com/maximo/ui/?event=loadapp&value=wotrack&additionalevent=sqlwhere&additionaleventvalue=";

function populateSecondTextBox() {
  var str = "(";
  var arr = document.getElementById('txtFirst').value.split("\n").filter(function(e) {
    return e
  });

  var arrayLength = arr.length;
  for (var i = 0; i < arrayLength; i++) {
    if (i < arr.length - 1) {

      str += "(wonum = '" + arr[i].toUpperCase() + "') or ";
    } else {
      str += "(wonum = '" + arr[i].toUpperCase() + "'))";
    }
  }
  // document.getElementById('txtSecond').innerHTML = str;
  document.getElementById('Multiple').href = maxlnk + str + "&forcereload=true";
}

function parent(){
  var number = document.getElementById("k").value;
  var lnk = maxlnk + "wonum in (select wonum from woancestor where ancestor='" + number + "')" + "&forcereload=true";

  window.open(lnk , '_blank');
}



</script>


</head>

<body>
<h3>
Some Handy Maximo Tools
</h3>
<p>
<form>
  Show all of The Children
<input id="k" type="text" ></input>
  <button type="button" onclick="parent()" >Find Children</button>
</form>
</p>
<p>
If you run a report and dont email it (just click run with the immidiate box checked) then add "__format=pdf" to the end of the url of the new tab that opened you will see a pdf of the workorder you opened
(Maximos BIRT report tool doesnt support explorer-11 go figure)
</p>

<h2>
You Can Either Paste Or enter Your WO Numbers Here &darr; (Put Each One On a New Line Like Example)
</h2>
  <p>
  <textarea placeholder="TK797041 TK797163 TK737311 TK799822 TK799825"rows="10" cols="10" id="txtFirst" onkeyup="populateSecondTextBox();" /></textarea>
</p>
<a href="" id="Multiple" target="_blank">Search For Multiple TKs</a>


</body>

</html>
